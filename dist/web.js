!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2)),s=r(n(3)),o=s.createConnection({host:i.HOST,port:i.PORT,user:i.USER,password:i.PASS,database:i.DB});class a{constructor(e){this.table=e}static parseExpression(e){const t=[];return e.forEach(e=>{const n=e=>t.push(`${r}=${e}`),r=Object.keys(e)[0],i=e[r];switch(typeof i){case"string":n(`"${i}"`);break;case"number":n(i);break;case"object":n(s.escape(JSON.stringify(i)))}}),t}find(...e){return new Promise((t,n)=>{const r=a.parseExpression(e);o.query(`SELECT * FROM ${this.table} WHERE ${r.join(" , ")}`,(e,r)=>{e?n(e):t(r)})})}findOne(...e){return new Promise((t,n)=>{const r=a.parseExpression(e);o.query(`SELECT * FROM ${this.table} WHERE ${r.join(" , ")}`,(e,r)=>{e?n(e):t(r[0])})})}add(...e){return new Promise((t,n)=>{const r=e.map(e=>"object"==typeof e?`'${JSON.stringify(e)}'`:`"${e}"`);o.query(`INSERT INTO ${this.table} VALUES (${r.join(" , ")})`,e=>{e?n(e):t()})})}update(e,t){return new Promise((n,r)=>{const i=a.parseExpression(e),s=a.parseExpression(t);o.query(`UPDATE ${this.table} SET ${s.join(" , ")} WHERE ${i.join(" ")}`,e=>{e?r(e):n()})})}delete(e){return new Promise((t,n)=>{const r=a.parseExpression(e);o.query(`DELETE FROM ${this.table} WHERE ${r.join(" ")}`,e=>{e?n(e):t()})})}}t.default={TABLE:{users:new a("users"),item:new a("item"),session:new a("session"),mobs:new a("mobs")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static time(){const e=new Date;return[e.getFullYear(),"-",e.getMonth()+1,"-",e.getDate()," ",e.getHours(),":",e.getMinutes(),":",e.getSeconds(),":",e.getMilliseconds()].join("")}static random(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}},function(e){e.exports=JSON.parse('{"PASS":"ckfejrvkdl4!","PORT":3306,"USER":"root","HOST":"127.0.0.1","DB":"step-by-step"}')},function(e,t){e.exports=require("mysql")},function(e){e.exports=JSON.parse('{"clientID":"85980254947-tbpk5bogtbg9egmsievv1gbmrtmsibel.apps.googleusercontent.com","clientSecret":"YrWo3SxtqPKKpuPlFWPk-bEI","callbackURL":"http://lotix.kro.kr/auth/google/callback","SESSION_SECRET":"TEST"}')},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1));t.default=class{constructor(e,t="green"){this.label=e,this.color=t}trace(e){console.log(`${this.label} | ${i.default.time()} | ${e}`)}}},function(e){e.exports=JSON.parse('{"INTERNAL_WS_URL":"127.0.0.2","WS_PORT":7010}')},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(0)),a=i(n(12)),u=s(n(4)),c=n(13);t.init=function(e,t){e.use(new c.Strategy({clientID:u.clientID,clientSecret:u.clientSecret,callbackURL:u.callbackURL,passReqToCallback:!0},(e,t,n,i,s)=>{process.nextTick(()=>r(this,void 0,void 0,(function*(){return(yield o.default.TABLE.users.findOne({id:i.id}))||(yield o.default.TABLE.users.add(i.id,"{}",1)),e.session.profile={id:i.id},yield o.default.TABLE.session.add(e.session.id,e.session.profile,Date.now()),s(void 0,i)})))})),t.use(a.default({secret:u.SESSION_SECRET,resave:!0,saveUninitialized:!1})),t.use(e.initialize()),t.use(e.session()),e.serializeUser((e,t)=>{t(null,e)}),e.deserializeUser((e,t)=>{t(null,e)}),t.get("/auth/google",e.authenticate("google",{scope:["profile"]})),t.get("/auth/google/callback",e.authenticate("google",{failureRedirect:"/",successRedirect:"/game"}))},t.isAuthenticated=function(e,t,n){if(e.isAuthenticated())return n();t.redirect("/")}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(7)),o=r(n(10)),a=r(n(11)),u=r(n(0)),c=i(n(8)),l=r(n(16)),d=r(n(5)),f=i(n(6)),p=r(n(17)),_=s.default(),h=(l.default(`ws://${f.INTERNAL_WS_URL}:${f.WS_PORT}`),new d.default("WEB","red"));c.init(p.default,_),_.use(s.default.static(o.default.resolve(__dirname,"assets"))),_.use(s.default.json()),_.set("views",o.default.resolve(__dirname,"views")),_.set("view engine","pug"),_.use("/",a.default()),_.listen(80,()=>{h.trace("Web Server opened.")});const v={wooden_sword:{price:100,name:"나무 검",rare:"normal",reqLV:0,level:{value:1,star:1},stat:{STR:"+3"},description:"초보자용 나무 검이다.",atk_type:"attack",type:"sword"},lava_pendant:{price:100,name:"라바 펜던트",rare:"legendary",reqLV:250,level:{value:167,star:6},stat:{STR:"+5345",IP:"+30%",CTD:"+45%",DPC:"+30",LUK:"+10",ACC:"+100%"},description:"전설적인 불의 새의 심장에 있는 보석이 박힌 펜던트이다.",atk_type:"buff",type:"pendant"},trace_of_the_void:{price:100,name:"공허의 흔적",rare:"mythic",reqLV:900,level:{value:520,star:7},stat:{STR:"+19345",IP:"+95%"},description:"알 수 없는 공간에서 한 연구원이 떼어 온 공허(보이드) 의 흔적이다.\n주변 공간을 일그러뜨리고 있다.",atk_type:"buff",type:"pendant"},burning_heart:{price:100,name:"버닝 하트",rare:"epic",reqLV:85,level:{value:47,star:5},stat:{STR:"+450",HPD:"+7%",EDC:"+4%"},description:"전설 속 정의 영혼이 가졌던 불타는 심장이다. 죽지 않고 살아있다.",atk_type:"buff",type:"pendant"}};u.default.TABLE.users.update([{id:"105756069170813376039"}],[{inventory:v}])},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(7)),a=s(n(8)),u=i(n(0)),c=s(n(14)),l=i(n(15));t.default=function(){const e=o.default.Router();return e.get("/game",a.isAuthenticated,(e,t)=>{t.render("game")}),e.get("/",(e,t)=>r(this,void 0,void 0,(function*(){if(e.session){const t=yield u.default.TABLE.session.findOne([{id:e.session.id}]);new Date-t.createdAt>3e6&&(yield u.default.TABLE.session.delete([{id:e.session.id}]),e.session.destroy(()=>{}))}t.render("index")}))),e.get("/setupLangTable",(e,t)=>{t.send(`window.LANGUAGE_TABLE = ${JSON.stringify(c)};`)}),l.default(e),e}},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("passport-google-oauth20")},function(e){e.exports=JSON.parse('{"boss":{"Alycia":"아리시아","Adelheid":"아델하이트","Charlotte":"샤를로테"}}')},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(0)),o={earth:0,immune:30,eternal_prison:55,harbinger_of_end:80,arkcube_piece:100,loard_down_benzene:200};t.default=function(e){e.post("/changeStage",(e,t)=>r(this,void 0,void 0,(function*(){(yield s.default.TABLE.users.findOne({id:e.session.profile.id})).level>=o[e.body.stage]?(yield s.default.TABLE.users.update([{id:e.session.profile.id}],[{stage:e.body.stage}]),t.send({success:!0})):t.send({success:!1})})))}},function(e,t){e.exports=require("socket.io-client")},function(e,t){e.exports=require("passport")}]);